module.exports = connection;
('enviar',(req,res) => {
    const{nombre,email,subject,mensaje} = req.body;   
});

// 1. Validar primero los campos antes de definir el query
if (!nombre || !email || !asunto || !mensaje) {
    return res.status(400).json({
        success: false,
        message: 'Por favor complete todos los campos'
    });
}

// 2. Corregir la sintaxis del query - había una coma extra
const query = 'INSERT INTO usuarios (nombre, email, subject, mensaje ) VALUES (?, ?, ?, ?)'; 

// 3. Agregar los valores al query
conexion.query(query, [nombre, email, subject, mensaje], (err, result) => {
    if (err) {
        console.error('Error en la base de datos:', err);
        return res.status(500).json({
            success: false,
            message: 'Error al guardar los datos'
        });
}
// 4. Mejorar la respuesta usando JSON en lugar de script
 res.status(200).json({
    success: true,
    message: 'Información registrada exitosamente'
});
});
});